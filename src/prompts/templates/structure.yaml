templates:
  # chatml: "{% if system %}<|system|>{{system}}\n<end>\n{% endif %}<|user|>{{user}}\n<|end|>\n<|response|>{{assistant}}{% if assistant %}\n<|end|>\n{% endif %}"

  # # https://github.com/tloen/alpaca-lora/blob/main/templates/alpaca.json
  # llama: "{% if system %}{{system}}\n\n{% endif %}### Instruction\n{{user}}\n\n### Response:\n{{assistant}}{% if assistant %}\n\n{% endif %}"

  # llama2: "<s>{% if system %}<<SYS>>\n{{system}}\n<</SYS>>{% endif %}[INST] {{user}}[/INST]\n\n[ASST] {{assistant}}{% if assistant %} [/ASST]\n\n{% endif %}"

  mistral: "{{ bos_token }}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if message['role'] == 'user' %}{{ '[INST] ' + message['content'] + ' [/INST]' }}{% elif message['role'] == 'assistant' %}{{ message['content'] + eos_token + ' ' }}{% else %}{{ raise_exception('Only user and assistant roles are supported!') }}{% endif %}{% endfor %}"

  vicuna: "{{ bos_token }}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if message['role'] == 'user' %}{{ 'USER: ' + message['content'] + ' ASSISTANT: ' }}{% elif message['role'] == 'assistant' %}{{ message['content'] + eos_token + ' ' }}{% else %}{{ raise_exception('Only user and assistant roles are supported!') }}{% endif %}{% endfor %}"


